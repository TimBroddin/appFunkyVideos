<md-toolbar class="vrt-toolbar">
    <div class="md-toolbar-tools">
        <h3>
            VRT Subtitle tool
        </h3>
    </div>
</md-toolbar>

<div layout="row" layout-wrap>
    <div flex="100" class="upload-container page-container" ng-hide="vm.movieUploaded">
        <p>To start editing, please upload a video (.mp4).</p>
        <md-input-container>
            <input ng-model="vm.subtitle.video" ngf-accept="'video/mp4'" ngf-select="vm.upload($file)" type="file" />
            <p ng-if="vm.progressPercentage && !vm.movieUploaded">{{vm.progressPercentage}} %</p>
        </md-input-container>
    </div>
    <div flex="70" class="video-container page-container" ng-if="vm.movieUploaded">
        <div class="videowrapper">
            <vrt-videoplayer source="vm.uploadedMovieUrl" start="vm.form.start" end="vm.form.end" update-time="vm.updateTime()"></vrt-videoplayer>
            <p id="subtitlePreview">{{vm.currentSubtitlePreview}}</p>
            <!--<input name="title" ng-model="vm.form.text">-->
            <rzslider rz-slider-model="vm.form.start" rz-slider-high="vm.form.end" rz-slider-options="vm.slider.options"></rzslider>
        </div>
    </div>
    <div flex="30" class="subtitles-container page-container"  ng-if="vm.movieUploaded">
        <md-toolbar class="vrt-sub-toolbar">
            <div class="md-toolbar-tools">
                <h3>
                    Edit subtitle
                </h3>
            </div>
        </md-toolbar>

        <md-content class="subtitle-edit-wrap">
            <md-input-container>
                <label for="subtitleText">Subtitle</label>
                <input id="subtitleText" name="title" ng-model="vm.form.text">
            </md-input-container>

            <md-input-container>
                <label for="subtitleStart">Start:</label>
                <input id="subtitleStart" name="title" ng-model="vm.form.start">
            </md-input-container>

            <md-input-container>
                <label for="subtitleEnd">Start:</label>
                <input id="subtitleEnd" name="title" ng-model="vm.form.end">
            </md-input-container>
        </md-content>

        <div class="subtitles-wrap">
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h3>
                        Subtitles
                    </h3>
                    <span flex></span>
                    <md-button class="md-raised" aria-label="Add new line" ng-click="vm.addSubtitle()">
                        Add new line
                    </md-button>
                </div>
            </md-toolbar>

            <div class="subtitles-list-wrap">
                <md-content>
                    <md-list>
                        <md-list-item class="md-2-line" ng-repeat="line in vm.subtitles">
                            <div class="md-list-item-text">
                                <h3>{{line.start}} - {{line.end}}</h3>
                                <p>{{line.text}}</p>
                            </div>
                            <md-button class="md-secondary" ng-click="vm.editSubtitle(line)">Edit</md-button>
                            <md-divider ng-if="!$last"></md-divider>
                        </md-list-item>
                    </md-list>
                </md-content>
            </div>
        </div>
    </div>
</div>

<!--<form name="mailForm">-->
    <!--<md-input-container>-->
        <!--<label>Email - naar dit adres wordt de verwerkte video verstuurd</label>-->
        <!--<input required name="email" ng-model="vm.subtitle.email" type="email" ng-pattern="/^.+@.+\..+$/"/>-->
        <!--<div ng-messages="mailForm.email.$error" ng-if="mailForm.$submitted || mailForm.email.$touched">-->
            <!--<div ng-message="required">This is required.</div>-->
            <!--<div ng-message='pattern'>-->
                <!--Your email must look like an e-mail address.-->
            <!--</div>-->
        <!--</div>-->
    <!--</md-input-container>-->
<!--</form>-->

<!--<p ng-if="vm.isReadyForProcess">-->
    <!--Uw video wordt verwerkt. Zodra deze klaar is ontvangt u een e-mail met download link.-->
    <!--Vergeet niet uw spam-folder na te kijken.-->
<!--</p>-->

<!--<md-button ng-click="vm.downloadSRTFile(vm.srtObj)" class="md-raised" ng-disabled="!vm.subtitle.email">Generate</md-button>-->
<!--<a ng-if='f.subtitled' target="_self" ng-href='/{{f.url}}' download="filename">download</a>-->
